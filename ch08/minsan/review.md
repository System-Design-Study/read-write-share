## 단축 url 생성에 사용할 해시 함수를 설계하기 위해서는 트래픽의 계략적인 추정이 필요하다

각각의 원본 url마다 매핑되는 단축 url을 생성하고 저장하기 위해서는, 계략적인 추정을 통해 **얼만큼의 레코드가 필요한지** 알아야 한다.

- 이렇게 구한 레코드의 개수를 기반으로, `단축 url의 길이 추정치`를 구할 수 있음
  - n개 문자의 조합으로 얼만큼 길이의 문자열을 생성하냐에 따라서 최대 저장 가능한 데이터 개수가 결정되기 때문

## 해시 함수 구현 방식의 장단점 비교

| 해시 후 충돌 해소 전략                                                                     | base-62 변환                                                                                                                 |
| ------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------- |
| 단축 URL 길이가 고정됨                                                                     | 단축 URL 길이가 가변적. ID 값이 커지면 값이 길어짐                                                                           |
| 유일성이 보장되는 ID 생성기가 필요치 않음                                                  | 유일성 보장 ID 생성기가 필요                                                                                                 |
| 충돌이 가능해서 해소 전략이 필요                                                           | ID의 유일성이 보장된 후에야 적용 가능한 전략이라 충돌은 아예 불가능                                                          |
| ID로부터 단축 URL을 계산하는 방식이 아니라서, 다음에 쓸 수 있는 URL을 알아내는 것이 불가능 | ID가 1씩 증가하는 값이라고 가정하면 다음에 쓸 수 있는 단축 URL이 무엇인지 쉽게 알아낼 수 있어서 보안상 문제가 될 소지가 있음 |
