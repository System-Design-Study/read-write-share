1장의 내용은 단일 서버 설계로 시작해서, 👉🏻 트래픽이 증가할 경우를 고려하여 `다중화 설계`를 도입하고, 👉🏻 응답 지연 시간 개선을 위해 `캐싱`을 도입하는 흐름으로 진행된다.

이렇게 시스템을 확장하는 과정을 통해서, **대규모 트래픽 서버**를 구축하는 경우에는 `어떤 부분들을 고려해야 하는지` 엿볼 수 있었다.

특히 `무상태 서버`, `샤딩` 등과 같은 개념에 대해서 정확히 알지 못했는데, 이번 장을 학습하면서 **각 개념을 어떤 상황에서 고려해야 하는지** 살펴볼 수 있었다.

## 1. 대규모 트래픽을 처리하기 위해 모든 계층에 `다중화`를 도입한다.

결국에는 대규모 트래픽에서 **서버 장애에 안정적으로 대응**하기 위해서는 `다중화`가 필수적이다.

웹 계층 서버, 데이터 계층 서버뿐만 아니라 캐시 서버에도 다중화를 도입하여 대규모 트래픽 서비스에서 안정적인 서비스를 운영할 수 있다.

그리고 이 과정에서는 항상 아래와 같은 **서비스 내에서의 특징**을 고려해서 설계해야 한다.

- 특정 기능에서 데이터 읽기 작업이 매우 빈번하다. . .
  - 👉🏻 캐싱 도입 고려
- 특정 데이터에 대해서는 수정이 매우 빈번하게 일어난다. . .
  - 👉🏻 캐싱이 무조건 좋지 않을 수 있음 _(정확도가 중요한 경우에는 오히려 안 좋을 수도 있음)_

> 👉🏻 결국에는 서비스에 따라서 어떤 부분에 어떤 방식으로 다중화를 도입해야 하는지, 그 **근거를 명확히 설정하는 것**이 가장 중요하다고 느꼈다.

## 2. 대규모 트래픽에는 `다중화`가 필요하지만, 그 부작용에 대한 해결책도 함께 제시해야 한다.

결국 **대규모 트래픽**을 감당할 수 있는 서비스를 운영하기 위해서는 `다중화`가 필수 요소인 것 같다.  
그리고 이 다중화를 도입하게 되면서 얻게 되는 **부작용**들을 **서비스에 알맞게 해결하는 것이 매우 중요하다**고 느꼈다.

- 예를 들면 `CDN`에 적당한 `TTL`을 설정하는 것, 데이터베이스 캐싱의 `eviction`이나 `expire`를 설정하는 것이 있다.

  - 👉🏻 서비스 내에서도 해당 부분이 **유저에 의해서 어떻게 사용되는지**에 따라 적절한 해결책을 고안하는 것이 중요하다고 느꼈다.

- 데이터베이스 다중화도 마찬가지이다.

  - 👉🏻 주 데이터베이스가 다운되었을 경우, 데이터가 일치하지 않는 문제에 대비할 방안을 모색해야 한다. _(`다중 마스터`, `원형 자둥화` ...)_

> 👉🏻 앞선 내용과 비슷하게, 현재 서비스가 `어느 정도의 부작용까지 감수할 수 있을지`를 명확한 근거와 함께 타협할 수 있어야 한다는 생각이 들었다.
